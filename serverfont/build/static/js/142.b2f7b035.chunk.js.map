{"version":3,"file":"static/js/142.b2f7b035.chunk.js","mappings":"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","sources":["component/Chair.jsx","component/Navbar.jsx","component/Main.jsx","component/CreateClassModal.jsx","component/JoinClassModal.jsx","component/ClassActionModal.jsx","pages/DashboardPage.jsx"],"sourcesContent":["// src/component/Chair.jsx\r\n\r\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport '../CSS/Chair.css';\r\n\r\nconst Chair = ({ id, initialPosition, onChairMove, containerRef, isDraggable, userPhotoURL, userName, onChairClick }) => {\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [position, setPosition] = useState(initialPosition);\r\n    const offset = useRef({ x: 0, y: 0 });\r\n    const chairRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        setPosition(initialPosition);\r\n    }, [initialPosition]);\r\n\r\n    const handleMouseDown = useCallback((e) => {\r\n        if (!isDraggable || !chairRef.current) return;\r\n        setIsDragging(true);\r\n        const chairRect = chairRef.current.getBoundingClientRect();\r\n        offset.current = {\r\n            x: e.clientX - chairRect.left,\r\n            y: e.clientY - chairRect.top\r\n        };\r\n    }, [isDraggable]);\r\n\r\n    const handleMouseMove = useCallback((e) => {\r\n        if (!isDragging || !containerRef.current || !chairRef.current) return;\r\n\r\n        const containerRect = containerRef.current.getBoundingClientRect();\r\n        const chairRect = chairRef.current.getBoundingClientRect();\r\n\r\n        let newX = e.clientX - containerRect.left - offset.current.x;\r\n        let newY = e.clientY - containerRect.top - offset.current.y;\r\n\r\n        newX = Math.max(0, Math.min(newX, containerRect.width - chairRect.width));\r\n        newY = Math.max(0, Math.min(newY, containerRect.height - chairRect.height));\r\n\r\n        setPosition({ x: newX, y: newY });\r\n    }, [isDragging, containerRef]);\r\n\r\n    const handleMouseUp = useCallback(() => {\r\n        if (isDragging) {\r\n            setIsDragging(false);\r\n            onChairMove(id, position.x, position.y);\r\n        }\r\n    }, [isDragging, onChairMove, id, position]);\r\n\r\n    useEffect(() => {\r\n        if (isDragging) {\r\n            window.addEventListener('mousemove', handleMouseMove);\r\n            window.addEventListener('mouseup', handleMouseUp);\r\n        } else {\r\n            window.removeEventListener('mousemove', handleMouseMove);\r\n            window.removeEventListener('mouseup', handleMouseUp);\r\n        }\r\n        return () => {\r\n            window.removeEventListener('mousemove', handleMouseMove);\r\n            window.removeEventListener('mouseup', handleMouseUp);\r\n        };\r\n    }, [isDragging, handleMouseMove, handleMouseUp]);\r\n\r\n    const handleClick = useCallback(() => {\r\n        // เพิ่มเงื่อนไขให้ Chair สามารถถูกคลิกได้เมื่อไม่ได้อยู่ในโหมดลาก\r\n        if (onChairClick && !isDraggable) {\r\n            onChairClick(id);\r\n        }\r\n    }, [id, isDraggable, onChairClick]);\r\n\r\n    return (\r\n        <div\r\n            ref={chairRef}\r\n            className=\"chair-item\"\r\n            style={{\r\n                left: position.x + 'px',\r\n                top: position.y + 'px',\r\n                zIndex: isDragging ? 1000 : 1\r\n            }}\r\n            onMouseDown={handleMouseDown}\r\n            onClick={handleClick}\r\n        >\r\n            <div className=\"chair-icon\" style={{ backgroundImage: userPhotoURL ? `url(${userPhotoURL})` : 'none' }}>\r\n                {!userPhotoURL && <div className=\"chair-icon-placeholder\"></div>}\r\n            </div>\r\n            <div className=\"user-name-under\">\r\n                {userName || ''}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Chair;","// src/component/Navbar.jsx\r\n\r\nimport React, { useState } from \"react\";\r\nimport \"../CSS/Navbar.css\";\r\nimport icon from \"../image/icon.ico\";\r\nimport userPlaceholderImage from \"../image/nulluser.png\";\r\nimport { FiPlus, FiLogOut, FiArrowLeft, FiShare2, FiEdit2, FiSave, FiX } from \"react-icons/fi\"; // ✨ เพิ่ม icon ใหม่\r\nimport { FaCog } from 'react-icons/fa'; // ต้องติดตั้ง react-icons: npm install react-icons\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000';\r\n\r\nconst Navbar = ({\r\n    isSidebarOpen, toggleSidebar, user, handleSignOut, onClassActionClick, classrooms,\r\n    isClassroomPage, onShareClick, classroomMembers, isAccountSettingPage,\r\n    onPromoteMember,\r\n    onKickMember,\r\n    onDemoteMember,\r\n    classroom,\r\n    isCreator,\r\n    isEditing, onToggleEditMode, onSavePositions, onCancelEdit, userSeatId, onLeaveSeat, // ✨ เพิ่ม props ใหม่\r\n}) => {\r\n    const navigate = useNavigate();\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n\r\n    const handleImageError = (e) => {\r\n        e.target.onerror = null;\r\n        e.target.src = userPlaceholderImage;\r\n        console.warn(\"Navbar profile image failed to load, falling back to placeholder:\", e.target.src);\r\n    };\r\n\r\n    const handleSignInClick = () => {\r\n        navigate('/login');\r\n    };\r\n\r\n    const toggleDropdown = () => {\r\n        setIsDropdownOpen(!isDropdownOpen);\r\n    };\r\n\r\n    const handleAccountSettingClick = () => {\r\n        navigate('/account-setting');\r\n        setIsDropdownOpen(false);\r\n    };\r\n\r\n    const handleSignOutClick = async () => {\r\n        await handleSignOut();\r\n        setIsDropdownOpen(false);\r\n        window.location.reload();\r\n    };\r\n\r\n    const handleClassroomClick = (classId) => {\r\n        navigate(`/classroom/${classId}`);\r\n        toggleSidebar();\r\n    };\r\n\r\n    const handleBackClick = () => {\r\n        navigate(-1);\r\n    };\r\n\r\n    const listItemStyle = {\r\n        whiteSpace: 'nowrap',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        maxWidth: '100%',\r\n        display: 'block'\r\n    };\r\n\r\n    const handleMemberMenu = (member) => {\r\n        const isTargetCreator = classroomMembers.creator.some(c => c._id === member._id);\r\n\r\n        if (isTargetCreator) {\r\n            // Menu for Co-Creators\r\n            Swal.fire({\r\n                title: member.displayName,\r\n                showDenyButton: true,\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Demote to Participant',\r\n                denyButtonText: 'Kick',\r\n                cancelButtonText: 'Cancel',\r\n                icon: 'info',\r\n                confirmButtonColor: '#e74c3c',\r\n            }).then(async (result) => {\r\n                if (result.isConfirmed) {\r\n                    await onDemoteMember(member._id, member.displayName);\r\n                } else if (result.isDenied) {\r\n                    await onKickMember(member._id, member.displayName);\r\n                }\r\n            });\r\n        } else {\r\n            // Menu for Participants\r\n            Swal.fire({\r\n                title: member.displayName,\r\n                showDenyButton: true,\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Promote to Creator',\r\n                denyButtonText: 'Kick',\r\n                cancelButtonText: 'Cancel',\r\n                icon: 'info'\r\n            }).then(async (result) => {\r\n                if (result.isConfirmed) {\r\n                    await onPromoteMember(member._id, member.displayName);\r\n                } else if (result.isDenied) {\r\n                    await onKickMember(member._id, member.displayName);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <nav className=\"navbar\">\r\n                <div className=\"navbar__logo\">\r\n                    <button className=\"navbar__burger\" onClick={toggleSidebar}>\r\n                        &#9776;\r\n                    </button>\r\n                    <img src={icon} alt=\"Logo\" className=\"navbar__logo-image\" />\r\n                    <h1 style={{ color: \"#414141ff\" ,fontSize: \"24px\" }}>Chair</h1>\r\n                </div>\r\n\r\n                {/* ✨ ย้ายปุ่มมาไว้ตรงกลาง Navbar เพื่อให้แสดงผลถูกต้อง */}\r\n                <div className=\"navbar-center\">\r\n                    {isClassroomPage && isCreator && (\r\n                        isEditing ? (\r\n                            <>\r\n                                <button className=\"navbar-action-button save\" onClick={onSavePositions} title=\"Save Seating\">\r\n                                    <FiSave size={20} />\r\n                                    <span>Save</span>\r\n                                </button>\r\n                                <button className=\"navbar-action-button cancel\" onClick={onCancelEdit} title=\"Cancel\">\r\n                                    <FiX size={20} />\r\n                                    <span>Cancel</span>\r\n                                </button>\r\n                            </>\r\n                        ) : (\r\n                            <button className=\"navbar-action-button\" onClick={onToggleEditMode} title=\"Edit Seating\">\r\n                                <FiEdit2 size={20} />\r\n                                <span>Edit</span>\r\n                            </button>\r\n                        )\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"navbar__profile\" onClick={toggleDropdown}>\r\n                    {user ? (\r\n                        <img\r\n                            src={user.photoURL ? `${API_BASE_URL}${user.photoURL}` : userPlaceholderImage}\r\n                            alt=\"User Profile\"\r\n                            className=\"navbar-profile-image\"\r\n                            onError={handleImageError}\r\n                        />\r\n                    ) : (\r\n                        <button onClick={handleSignInClick} className=\"navbar__signin-button\">\r\n                            Sign In\r\n                        </button>\r\n                    )}\r\n                    {isDropdownOpen && user && (\r\n                        <div className=\"dropdown-menu\">\r\n                            <div className=\"dropdown-user-info\">\r\n                                <img\r\n                                    src={user.photoURL ? `${API_BASE_URL}${user.photoURL}` : userPlaceholderImage}\r\n                                    alt=\"User Profile\"\r\n                                    className=\"dropdown-profile-image\"\r\n                                    onError={handleImageError}\r\n                                />\r\n                                <div className=\"user-details\">\r\n                                    <span className=\"user-name\">{user.displayName}</span>\r\n                                    <br />\r\n                                    <span className=\"user-email\">{user.email}</span>\r\n                                </div>\r\n                            </div>\r\n                            <hr style={{ border: \"none\", height: \"1px\", backgroundColor: \"#dadce0\", margin: \"8px 0\" }} />\r\n                            <div className=\"dropdown-list\">\r\n                                <span className=\"dropdown-item\" onClick={handleAccountSettingClick}>\r\n                                    Account Setting\r\n                                </span>\r\n                                <span className=\"dropdown-item\" onClick={handleSignOutClick}>\r\n                                    <FiLogOut />\r\n                                    Sign Out\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </nav>\r\n            <aside className={`sidebar ${isSidebarOpen ? \"open\" : \"\"}`}>\r\n                <ul className=\"sidebar-list\">\r\n                    {/* ✨ เพิ่มโค้ดนี้: เพิ่มเงื่อนไขสำหรับหน้า Account Setting */}\r\n                    {isAccountSettingPage ? (\r\n                        <li className=\"sidebar-list-item sidebar-back-button\" onClick={handleBackClick}>\r\n                            <FiArrowLeft size={18} />\r\n                            <span>Back</span>\r\n                        </li>\r\n                    ) : isClassroomPage ? (\r\n                        <>\r\n                            <li className=\"sidebar-list-item sidebar-back-button\" onClick={handleBackClick}>\r\n                                <FiArrowLeft size={18} />\r\n                                <span>Back</span>\r\n                            </li>\r\n                            {/* ✨ การแก้ไข: เพิ่มการตรวจสอบ user ก่อนแสดงส่วนนี้เพื่อป้องกัน error */}\r\n                            {user && (\r\n                                <li className=\"sidebar-list-item sidebar-share-class\" onClick={onShareClick}>\r\n                                    <FiShare2 size={18} />\r\n                                    <span>Share Class</span>\r\n                                </li>\r\n                            )}\r\n                            \r\n                            {/* ส่วนแสดงสมาชิก */}\r\n                            {classroomMembers?.creator && classroomMembers.creator.length > 0 && (\r\n                                <>\r\n                                    <hr className=\"divider\" style={{ margin: \"8px 0\" }} />\r\n                                    <h3 className=\"sidebar-section-title\">\r\n                                        Creator ({classroomMembers.creator.length})\r\n                                    </h3>\r\n                                    {/* รองรับ creator หลายคน */}\r\n                                    {classroomMembers.creator.map(c => (\r\n                                        <li key={c._id} className=\"sidebar-list-item sidebar-member-item\">\r\n                                            <img\r\n                                                src={c.photoURL ? `${API_BASE_URL}${c.photoURL}` : userPlaceholderImage}\r\n                                                alt={c.displayName}\r\n                                                onError={handleImageError}\r\n                                                className=\"sidebar-profile-image\"\r\n                                            />\r\n                                            <span style={listItemStyle}>{c.displayName}</span>\r\n                                            {/* Show menu for co-creators, but not for the user themselves */}\r\n                                            {isCreator && user.id !== c._id && (\r\n                                                <button\r\n                                                    className=\"menu-btn\"\r\n                                                    onClick={() => handleMemberMenu(c)}\r\n                                                    title=\"Member options\"\r\n                                                >\r\n                                                    <FaCog />\r\n                                                </button>\r\n                                            )}\r\n                                        </li>\r\n                                    ))}\r\n                                </>\r\n                            )}\r\n                            \r\n                            {classroomMembers?.participants?.length > 0 && (\r\n                                <>\r\n                                    <hr className=\"divider\" style={{ margin: \"8px 0\" }} />                                    \r\n                                    <h3 className=\"sidebar-section-title\">\r\n                                        Participants ({classroomMembers.participants.filter(p => !classroomMembers.creator.some(c => c._id === p._id)).length})\r\n                                    </h3>\r\n                                    {classroomMembers.participants // กรองเอา creator ออกจาก participants\r\n                                        .filter(p => !classroomMembers.creator.some(c => c._id === p._id))\r\n                                        .map(participant => (\r\n                                        <li key={participant._id} className=\"sidebar-list-item sidebar-member-item\">\r\n                                            <img\r\n                                                src={participant.photoURL ? `${API_BASE_URL}${participant.photoURL}` : userPlaceholderImage}\r\n                                                alt={participant.displayName}\r\n                                                onError={handleImageError}\r\n                                                className=\"sidebar-profile-image\"\r\n                                            />\r\n                                            <span style={listItemStyle}>{participant.displayName}</span>\r\n                                            {isCreator && user.id !== participant._id && (\r\n                                                <button\r\n                                                    className=\"menu-btn\"\r\n                                                    onClick={() => handleMemberMenu(participant)}\r\n                                                    title=\"Member options\"\r\n                                                >\r\n                                                    <FaCog />\r\n                                                </button>\r\n                                            )}\r\n                                        </li>\r\n                                    ))}\r\n                                </>\r\n                            )}\r\n                            {isClassroomPage && userSeatId && (\r\n                                <button\r\n                                    className=\"leave-seat-btn\"\r\n                                    style={{\r\n                                        width: '90%',\r\n                                        margin: '20px auto 10px auto',\r\n                                        display: 'block',\r\n                                        background: '#f44336',\r\n                                        color: '#fff',\r\n                                        border: 'none',\r\n                                        borderRadius: '6px',\r\n                                        padding: '10px 0',\r\n                                        fontWeight: 'bold',\r\n                                        cursor: 'pointer'\r\n                                    }}\r\n                                    onClick={onLeaveSeat}\r\n                                >\r\n                                    Leave Seat\r\n                                </button>\r\n                            )}\r\n                        </>\r\n                    ) : (\r\n                        <>\r\n                            {/* ✨ การแก้ไข: เพิ่มการตรวจสอบ user ก่อนแสดงส่วนนี้เพื่อป้องกัน error */}\r\n                            {user && (\r\n                                <li className=\"sidebar-list-item sidebar-create-class\" onClick={onClassActionClick}>\r\n                                    <FiPlus size={18} />\r\n                                    <span>Class</span>\r\n                                </li>\r\n                            )}\r\n                            <hr style={{ border: \"none\", height: \"1px\", backgroundColor: \"#dadce0\", margin: \"8px 0\" }} />\r\n                            {classrooms.length > 0 ? (\r\n                                classrooms.map((room) => (\r\n                                    <li\r\n                                        key={room._id}\r\n                                        className=\"sidebar-list-item sidebar-classroom-item\"\r\n                                        onClick={() => handleClassroomClick(room._id)}\r\n                                    >\r\n                                        <img\r\n                                            src={room.creator?.photoURL ? `${API_BASE_URL}${room.creator.photoURL}` : userPlaceholderImage}\r\n                                            alt=\"Creator Profile\"\r\n                                            className=\"sidebar-profile-image\"\r\n                                        />\r\n                                        <span className=\"sidebar-classroom-name\">{room.name}</span>\r\n                                    </li>\r\n                                ))\r\n                            ) : (\r\n                                <li className=\"sidebar-no-class-text\">\r\n                                    No classes joined.\r\n                                </li>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </ul>\r\n            </aside>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n","// src/component/Main.jsx\r\n\r\nimport React, { useState } from \"react\";\r\nimport { useNavigate } from 'react-router-dom'; // ✨ Add this import\r\nimport \"../CSS/Main.css\";\r\nimport userPlaceholderImage from \"../image/nulluser.png\"\r\nimport { FiShare2 } from \"react-icons/fi\";\r\nimport { FaThumbtack } from \"react-icons/fa\";\r\nimport Swal from 'sweetalert2';\r\n\r\nconst API_BASE_URL = 'http://localhost:5000';\r\n\r\nconst Main = ({ isSidebarOpen, classrooms, user, onPinClass, setShowMenu, showMenu, handleLeaveClassroom }) => {\r\n    const [openDropdownId, setOpenDropdownId] = useState(null);\r\n    const navigate = useNavigate(); // ✨ Add this line\r\n\r\n    const handleImageError = (e) => {\r\n        e.target.onerror = null;\r\n        e.target.src = userPlaceholderImage;\r\n    };\r\n\r\n    const toggleDropdown = (id, e) => {\r\n        e.stopPropagation();\r\n        setOpenDropdownId(openDropdownId === id ? null : id);\r\n    };\r\n\r\n    const handleShareClick = (classCode, e) => {\r\n        e.stopPropagation();\r\n        setOpenDropdownId(null);\r\n        \r\n        Swal.fire({\r\n            title: 'Class Code',\r\n            html: `\r\n                <div style=\"background-color: #eaf6ea; border: 1px solid #d4ecd4; border-radius: 4px; padding: 12px 15px; font-size: 24px; font-weight: bold; color: #388e3c; word-break: break-all; margin: 15px 0;\">\r\n                    ${classCode}\r\n                </div>`,\r\n            showCancelButton: true,\r\n            confirmButtonText: 'Copy Code',\r\n            cancelButtonText: 'Close',\r\n            customClass: {\r\n                confirmButton: 'swal2-confirm',\r\n            },\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                navigator.clipboard.writeText(classCode);\r\n                Swal.fire('Copied!', 'Class code has been copied to clipboard.', 'success');\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleCardClick = (classId) => {\r\n        navigate(`/classroom/${classId}`);\r\n    }; // ✨ Add this new function\r\n\r\n    const renderClassroomCards = (classes) => (\r\n        <div className=\"classroom-grid\">\r\n            {classes.map((room) => {\r\n                const isPinned = user.pinnedClasses?.includes(room._id);\r\n                return (\r\n                    <div\r\n                        key={room._id}\r\n                        className={`classroom-card ${openDropdownId === room._id ? 'active-dropdown' : ''}`}\r\n                        style={{ borderLeftColor: room.color }}\r\n                        onClick={() => handleCardClick(room._id)} // ✨ Add this onClick handler\r\n                    >\r\n                        <div className=\"classroom-options-wrapper\">\r\n                            <div className=\"classroom-options-icon\" onClick={(e) => toggleDropdown(room._id, e)}>\r\n                                &#x22EE;\r\n                            </div>\r\n                            {openDropdownId === room._id && (\r\n                                <div className=\"dropdown-menu\" onClick={e => e.stopPropagation()}>\r\n                                    <div className=\"dropdown-item\" onClick={() => onPinClass(room._id)}>\r\n                                        <FaThumbtack size={16} />\r\n                                        <span>{isPinned ? 'Unpin class' : 'Pin class'}</span>\r\n                                    </div>\r\n                                    <div className=\"dropdown-item\" onClick={(e) => handleShareClick(room.classCode, e)}>\r\n                                        <FiShare2 size={16} />\r\n                                        <span>Share Class Code</span>\r\n                                    </div>\r\n                                    <div\r\n                                      className=\"dropdown-item\"\r\n                                      style={{ color: 'red' }}\r\n                                      onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleLeaveClassroom(room._id);\r\n                                        setOpenDropdownId(null);\r\n                                      }}\r\n                                    >\r\n                                      <span>ออกจากห้อง</span>\r\n                                    </div>\r\n                                  </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"classroom-text-content\">\r\n                            <h2>{room.name}</h2>\r\n                            <h3 className=\"classroom-subname\">{room.subname}</h3>\r\n                        </div>\r\n                        <div className=\"classroom-image-container\">\r\n                            <img\r\n                                src={room.creator?.photoURL ? `${API_BASE_URL}${room.creator.photoURL}` : userPlaceholderImage}\r\n                                alt={`${room.name} owner profile`}\r\n                                className=\"classroom-image\"\r\n                                onError={handleImageError}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n    );\r\n\r\n    const pinnedClasses = classrooms.filter(room => user.pinnedClasses?.includes(room._id));\r\n    const createdClasses = classrooms.filter(room => user.createdClasses?.includes(room._id) && !user.pinnedClasses?.includes(room._id));\r\n    const joinedClasses = classrooms.filter(room => user.enrolledClasses?.includes(room._id) && !user.createdClasses?.includes(room._id) && !user.pinnedClasses?.includes(room._id));\r\n\r\n    return (\r\n        <main className={`main__content ${isSidebarOpen ? 'shift' : ''}`}>\r\n            <div className=\"main-content-scrollable-area\">\r\n                {pinnedClasses.length > 0 && (\r\n                    <>\r\n                        <h2 className=\"section-title\">Pinned Classrooms</h2>\r\n                        {renderClassroomCards(pinnedClasses)}\r\n                        <hr className=\"divider\" />\r\n                    </>\r\n                )}\r\n                {createdClasses.length > 0 && (\r\n                    <>\r\n                        <h2 className=\"section-title\">Created by You</h2>\r\n                        {renderClassroomCards(createdClasses)}\r\n                        <hr className=\"divider\" />\r\n                    </>\r\n                )}\r\n                {joinedClasses.length > 0 && (\r\n                    <>\r\n                        <h2 className=\"section-title\">Joined Classrooms</h2>\r\n                        {renderClassroomCards(joinedClasses)}\r\n                    </>\r\n                )}\r\n            </div>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default Main;","// src/component/CreateClassModal.jsx\r\n\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport '../CSS/Modal.css';\r\nimport '../CSS/Chair.css';\r\nimport Chair from './Chair';\r\n\r\nconst SeatingPreviewModal = ({ rows, cols, onClose, onSavePositions, initialSavedPositions }) => {\r\n    const [currentChairPositions, setCurrentChairPositions] = useState({});\r\n    const containerRef = useRef(null);\r\n\r\n    const initializeGridSeating = useCallback((containerWidth) => {\r\n        const initialPositions = {};\r\n        if (!containerWidth || cols === 0 || rows === 0) return initialPositions;\r\n        \r\n        // กำหนดขนาดเก้าอี้ในแนวตั้งให้คงที่ และระยะห่างในแนวตั้ง\r\n        const chairSizeY = 60; \r\n        const paddingY = 20;\r\n\r\n        // คำนวณความกว้างของแต่ละช่อง (รวมเก้าอี้และระยะห่าง) เพื่อให้เต็มพื้นที่แนวนอน\r\n        const cellWidth = containerWidth / cols;\r\n        const chairSizeX = cellWidth * 0.8; // เก้าอี้ใช้ 80% ของความกว้างช่อง\r\n        const paddingX = (cellWidth - chairSizeX) / 2; // ระยะห่างซ้ายขวาของเก้าอี้ในแต่ละช่อง\r\n\r\n        let seatIndex = 0;\r\n        for (let r = 0; r < rows; r++) {\r\n            for (let c = 0; c < cols; c++) {\r\n                initialPositions[`seat-${seatIndex}`] = { \r\n                    // คำนวณตำแหน่ง x โดยให้เก้าอี้อยู่ตรงกลางของแต่ละช่อง\r\n                    x: (c * cellWidth) + paddingX, \r\n                    y: paddingY + (r * (chairSizeY + paddingY)) \r\n                };\r\n                seatIndex++;\r\n            }\r\n        }\r\n        return initialPositions;\r\n    }, [rows, cols]);\r\n\r\n    useEffect(() => {\r\n        if (Object.keys(initialSavedPositions).length > 0) {\r\n            setCurrentChairPositions(initialSavedPositions);\r\n        } else {\r\n            // ใช้ setTimeout เพื่อให้แน่ใจว่า DOM ถูก render แล้วและสามารถวัดขนาด container ได้\r\n            const timer = setTimeout(() => {\r\n                if (containerRef.current) {\r\n                    const containerWidth = containerRef.current.clientWidth;\r\n                    if (containerWidth) {\r\n                        setCurrentChairPositions(initializeGridSeating(containerWidth));\r\n                    }\r\n                }\r\n            }, 0); \r\n            return () => clearTimeout(timer);\r\n        }\r\n    }, [initialSavedPositions, initializeGridSeating]);\r\n\r\n    // เพิ่ม useEffect เพื่อปรับขนาดเมื่อขนาดของหน้าต่างเปลี่ยนไป\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            if (containerRef.current) {\r\n                const containerWidth = containerRef.current.clientWidth;\r\n                if (containerWidth) {\r\n                    setCurrentChairPositions(initializeGridSeating(containerWidth));\r\n                }\r\n            }\r\n        };\r\n\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, [initializeGridSeating]);\r\n\r\n\r\n    const handleChairMove = useCallback((id, newX, newY) => {\r\n        setCurrentChairPositions(prevPositions => ({\r\n            ...prevPositions,\r\n            [id]: { x: newX, y: newY }\r\n        }));\r\n    }, []);\r\n\r\n    const handleSaveClick = () => {\r\n        onSavePositions(currentChairPositions);\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-backdrop\">\r\n            <div className=\"modal-content preview-modal\">\r\n                <button className=\"modal-close-button\" onClick={onClose}>&times;</button>\r\n                <h2>Seating Arrangement Preview</h2>\r\n                <div className=\"seating-area\">\r\n                    <div ref={containerRef} className=\"seating-grid\" style={{\r\n                        width: `1600px`, // สามารถปรับเป็น '100%' หากต้องการให้มันเต็มพื้นที่ modal\r\n                        height: `1200px`,\r\n                        position: 'relative',\r\n                        // display: 'flex', // สามารถใช้ flexbox เพื่อจัดวางเพิ่มเติมได้\r\n                        // flexWrap: 'wrap',\r\n                        // justifyContent: 'space-around',\r\n                        // alignItems: 'flex-start'\r\n                    }}>\r\n                        {Object.entries(currentChairPositions).map(([id, pos]) => (\r\n                            <Chair\r\n                                key={id}\r\n                                id={id}\r\n                                initialPosition={pos}\r\n                                onChairMove={handleChairMove}\r\n                                isDraggable={true}\r\n                                containerRef={containerRef}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <button className=\"modal-action-button\" onClick={handleSaveClick}>\r\n                    Save Seating Arrangement\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst CreateClassModal = ({ onClose, onClassCreated, user }) => {\r\n    const [name, setName] = useState('');\r\n    const [subname, setSubname] = useState('');\r\n    const [color, setColor] = useState('#4CAF50');\r\n    const [rows, setRows] = useState(0);\r\n    const [cols, setCols] = useState(0);\r\n    const [showPreview, setShowPreview] = useState(false);\r\n    const [savedSeatingPositions, setSavedSeatingPositions] = useState({});\r\n\r\n    // ฟังก์ชันนี้จะถูกใช้เป็นค่าเริ่มต้นสำหรับสร้างคลาส\r\n    const initializeGridSeating = useCallback(() => {\r\n        const initialPositions = {};\r\n        const chairSize = 60;\r\n        const padding = 20;\r\n        let seatIndex = 0;\r\n        for (let r = 0; r < rows; r++) {\r\n            for (let c = 0; c < cols; c++) {\r\n                initialPositions[`seat-${seatIndex}`] = { \r\n                    x: padding + (c * (chairSize + padding)), \r\n                    y: padding + (r * (chairSize + padding)) \r\n                };\r\n                seatIndex++;\r\n            }\r\n        }\r\n        return initialPositions;\r\n    }, [rows, cols]);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!user || !user.token) {\r\n            console.error(\"User or token is not available. Cannot create class.\");\r\n            alert(\"Please log in to create a class.\");\r\n            return;\r\n        }\r\n\r\n        if (rows < 0 || rows > 10 || cols < 0 || cols > 10) {\r\n            alert(\"Rows and columns must be between 0 and 10.\");\r\n            return;\r\n        }\r\n\r\n        let finalSeatingPositions = savedSeatingPositions;\r\n        // หากไม่มีการบันทึกตำแหน่งจากหน้า preview ให้สร้างตำแหน่งเริ่มต้น\r\n        if (Object.keys(finalSeatingPositions).length === 0 && rows > 0 && cols > 0) {\r\n            finalSeatingPositions = initializeGridSeating();\r\n        }\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:5000/api/classrooms/create', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'x-auth-token': user.token,\r\n                },\r\n                body: JSON.stringify({\r\n                    name,\r\n                    subname,\r\n                    color,\r\n                    imageUrl: 'https://via.placeholder.com/50',\r\n                    rows,\r\n                    cols,\r\n                    seatingPositions: finalSeatingPositions\r\n                }),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                const errorData = await response.json();\r\n                throw new Error(errorData.msg || 'Failed to create class');\r\n            }\r\n\r\n            const data = await response.json();\r\n            console.log('Class created:', data.class);\r\n\r\n            onClassCreated();\r\n        } catch (error) {\r\n            alert(error.message);\r\n        }\r\n    };\r\n\r\n    const handlePreviewClick = (e) => {\r\n        e.preventDefault();\r\n        if (rows > 0 && cols > 0 && rows <= 10 && cols <= 10) {\r\n            setShowPreview(true);\r\n        } else {\r\n            alert(\"Please enter valid numbers for rows and columns (1-10) to preview.\");\r\n        }\r\n    };\r\n\r\n    const handleSaveSeatingPositions = (positions) => {\r\n        setSavedSeatingPositions(positions);\r\n        console.log(\"Saved seating positions:\", positions);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"modal-backdrop\">\r\n                <div className=\"modal-content\">\r\n                    <button className=\"modal-close-button\" onClick={onClose}>&times;</button>\r\n                    <h2>Create New Class</h2>\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label>Class Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={name}\r\n                                onChange={(e) => setName(e.target.value)}\r\n                                required\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Subject Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={subname}\r\n                                onChange={(e) => setSubname(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label>Class Color</label>\r\n                            <input\r\n                                type=\"color\"\r\n                                value={color}\r\n                                onChange={(e) => setColor(e.target.value)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group-inline\">\r\n                            <div className=\"form-group\">\r\n                                <label>Rows (1-10)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    value={rows}\r\n                                    onChange={(e) => setRows(Math.min(10, Math.max(0, parseInt(e.target.value) || 0)))}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Columns (1-10)</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    min=\"0\"\r\n                                    max=\"10\"\r\n                                    value={cols}\r\n                                    onChange={(e) => setCols(Math.min(10, Math.max(0, parseInt(e.target.value) || 0)))}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <button type=\"button\" className=\"modal-preview-button\" onClick={handlePreviewClick}>\r\n                                Preview Seating\r\n                            </button>\r\n                        </div>\r\n                        <button type=\"submit\" className=\"modal-action-button\">Create Class</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            {showPreview && (\r\n                <SeatingPreviewModal\r\n                    rows={rows}\r\n                    cols={cols}\r\n                    onClose={() => setShowPreview(false)}\r\n                    onSavePositions={handleSaveSeatingPositions}\r\n                    initialSavedPositions={savedSeatingPositions}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CreateClassModal;","// src/component/JoinClassModal.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport '../CSS/Modal.css';\r\nimport axios from 'axios';\r\n\r\nconst JoinClassModal = ({ onClose, onClassJoined, user }) => {\r\n    const [classCode, setClassCode] = useState('');\r\n    const [error, setError] = useState('');\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        setError('');\r\n\r\n        if (!user || !user.token) {\r\n            setError(\"Please log in to join a class.\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await axios.post('http://localhost:5000/api/classrooms/join', { classCode }, {\r\n                headers: {\r\n                    'x-auth-token': user.token,\r\n                },\r\n            });\r\n\r\n            // ** สำคัญ: เรียกใช้ onClassJoined เพื่อแจ้งให้คอมโพเนนต์แม่ทราบว่าเข้าร่วมสำเร็จแล้ว **\r\n            onClassJoined();\r\n            onClose();\r\n            \r\n        } catch (err) {\r\n            console.error(\"Error joining class:\", err);\r\n            setError(err.response?.data?.msg || \"Failed to join class. Please check the code.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-backdrop\">\r\n            <div className=\"modal-content\">\r\n                <button className=\"modal-close-button\" onClick={onClose}>&times;</button>\r\n                <h2>Join Class</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Class Code</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={classCode}\r\n                            onChange={(e) => setClassCode(e.target.value.toUpperCase())}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    {error && <p className=\"error-message\">{error}</p>}\r\n                    <button type=\"submit\" className=\"modal-action-button\">Join</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default JoinClassModal;","// src/component/ClassActionModal.jsx\r\n\r\nimport React, { useState } from 'react';\r\nimport '../CSS/Modal.css';\r\nimport CreateClassModal from './CreateClassModal';\r\nimport JoinClassModal from './JoinClassModal';\r\n\r\nconst ClassActionModal = ({ onClose, onClassCreated, onClassJoined, user }) => {\r\n    const [mode, setMode] = useState(null);\r\n\r\n    const handleCreateClick = () => {\r\n        setMode('create');\r\n    };\r\n\r\n    const handleJoinClick = () => {\r\n        setMode('join');\r\n    };\r\n\r\n    if (mode === 'create') {\r\n        return <CreateClassModal onClose={onClose} onClassCreated={onClassCreated} user={user} />;\r\n    }\r\n\r\n    if (mode === 'join') {\r\n        return <JoinClassModal onClose={onClose} onClassJoined={onClassJoined} user={user} />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"modal-backdrop\">\r\n            <div className=\"modal-content\">\r\n                <button className=\"modal-close-button\" onClick={onClose}>&times;</button>\r\n                <div className=\"modal-options\">\r\n                    <button className=\"modal-option-button\" onClick={handleCreateClick}>\r\n                        <i className=\"fa-solid fa-plus icon\"></i>\r\n                        <span>Create class</span>\r\n                    </button>\r\n                    <button className=\"modal-option-button\" onClick={handleJoinClick}>\r\n                        <i className=\"fa-solid fa-user-plus icon\"></i>\r\n                        <span>Join class</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ClassActionModal;","// src/pages/DashboardPage.jsx\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport Navbar from '../component/Navbar';\r\nimport Main from '../component/Main';\r\nimport ClassActionModal from '../component/ClassActionModal';\r\n\r\nconst API_BASE_URL = 'http://localhost:5000';\r\n\r\nconst DashboardPage = ({ user, updateUserProfile, isSidebarOpen, toggleSidebar, handleSignOut }) => {\r\n    const [classrooms, setClassrooms] = useState([]);\r\n    const [isModalOpen, setIsModalOpen] = useState(false);\r\n    const [showMenu, setShowMenu] = useState(null);\r\n\r\n    const fetchClassrooms = async (token) => {\r\n        try {\r\n            const response = await axios.get(`${API_BASE_URL}/api/classrooms`, {\r\n                headers: {\r\n                    'x-auth-token': token,\r\n                },\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error(\"Error fetching classrooms:\", error);\r\n            return [];\r\n        }\r\n    };\r\n\r\n    const fetchUserProfile = async (token) => {\r\n        try {\r\n            const response = await axios.get(`${API_BASE_URL}/api/auth/me`, {\r\n                headers: {\r\n                    'x-auth-token': token,\r\n                },\r\n            });\r\n            return response.data;\r\n        } catch (error) {\r\n            console.error(\"Error fetching user profile:\", error);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const updateAllData = useCallback(async () => {\r\n        if (user && user.token) {\r\n            const [classroomsData, userProfileData] = await Promise.all([\r\n                fetchClassrooms(user.token),\r\n                fetchUserProfile(user.token),\r\n            ]);\r\n            setClassrooms(classroomsData);\r\n            if (userProfileData) {\r\n                updateUserProfile(userProfileData);\r\n            }\r\n        }\r\n    }, [user, updateUserProfile]);\r\n\r\n    useEffect(() => {\r\n        updateAllData();\r\n    }, [updateAllData]);\r\n\r\n    const handlePinClass = async (classId) => {\r\n        try {\r\n            // โค้ดที่แก้ไข: ใช้ endpoint ที่ถูกต้องและไม่ต้องส่ง isPinned\r\n            await axios.post(`${API_BASE_URL}/api/classrooms/${classId}/toggle-pin`, null, {\r\n                headers: {\r\n                    'x-auth-token': user.token,\r\n                },\r\n            });\r\n            // อัปเดตข้อมูลใหม่หลังจากเปลี่ยนสถานะ pin\r\n            updateAllData();\r\n        } catch (error) {\r\n            console.error(\"Error pinning/unpinning class:\", error);\r\n        }\r\n    };\r\n\r\n    const handleLeaveClassroom = async (classId) => {\r\n        if (!window.confirm('คุณต้องการออกจากห้องนี้ใช่หรือไม่?')) return;\r\n        try {\r\n            await axios.post(\r\n                `${API_BASE_URL}/api/classrooms/${classId}/leave`,\r\n                {},\r\n                { headers: { 'x-auth-token': user.token } }\r\n            );\r\n            fetchClassrooms(); // รีเฟรชรายชื่อห้อง\r\n        } catch (e) {\r\n            alert('ออกจากห้องไม่สำเร็จ');\r\n        }\r\n    };\r\n\r\n    const handleClassActionClick = () => {\r\n        setIsModalOpen(true);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setIsModalOpen(false);\r\n    };\r\n\r\n    const onClassCreated = async () => {\r\n        await updateAllData();\r\n        handleCloseModal();\r\n    };\r\n\r\n    const onClassJoined = async () => {\r\n        await updateAllData();\r\n        handleCloseModal();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Navbar\r\n                isSidebarOpen={isSidebarOpen}\r\n                toggleSidebar={toggleSidebar}\r\n                user={user}\r\n                onClassActionClick={handleClassActionClick}\r\n                classrooms={classrooms}\r\n                // ส่ง handleSignOut ที่ได้รับจาก App.jsx ไปให้ Navbar\r\n                handleSignOut={handleSignOut}\r\n            />\r\n            <Main\r\n                isSidebarOpen={isSidebarOpen}\r\n                classrooms={classrooms}\r\n                user={user}\r\n                updateUserProfile={updateUserProfile}\r\n                onPinClass={handlePinClass}\r\n                setShowMenu={setShowMenu}\r\n                showMenu={showMenu}\r\n                handleLeaveClassroom={handleLeaveClassroom} // ส่งผ่านฟังก์ชันนี้ไปยัง Main\r\n            />\r\n            {isModalOpen && (\r\n                <ClassActionModal\r\n                    onClose={handleCloseModal}\r\n                    onClassCreated={onClassCreated}\r\n                    onClassJoined={onClassJoined}\r\n                    user={user}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n};\r\nexport default DashboardPage;"],"names":["_ref","id","initialPosition","onChairMove","containerRef","isDraggable","userPhotoURL","userName","onChairClick","isDragging","setIsDragging","useState","position","setPosition","offset","useRef","x","y","chairRef","useEffect","handleMouseDown","useCallback","e","current","chairRect","getBoundingClientRect","clientX","left","clientY","top","handleMouseMove","containerRect","newX","newY","Math","max","min","width","height","handleMouseUp","window","addEventListener","removeEventListener","handleClick","_jsxs","ref","className","style","zIndex","onMouseDown","onClick","children","_jsx","backgroundImage","concat","API_BASE_URL","process","REACT_APP_API_BASE_URL","_classroomMembers$par","isSidebarOpen","toggleSidebar","user","handleSignOut","onClassActionClick","classrooms","isClassroomPage","onShareClick","classroomMembers","isAccountSettingPage","onPromoteMember","onKickMember","onDemoteMember","classroom","isCreator","isEditing","onToggleEditMode","onSavePositions","onCancelEdit","userSeatId","onLeaveSeat","navigate","useNavigate","isDropdownOpen","setIsDropdownOpen","handleImageError","target","onerror","src","userPlaceholderImage","console","warn","handleBackClick","listItemStyle","whiteSpace","overflow","textOverflow","maxWidth","display","handleMemberMenu","member","creator","some","c","_id","Swal","title","displayName","showDenyButton","showCancelButton","confirmButtonText","denyButtonText","cancelButtonText","icon","confirmButtonColor","then","async","result","isConfirmed","isDenied","_Fragment","alt","color","fontSize","FiSave","size","FiX","FiEdit2","toggleDropdown","photoURL","onError","handleSignInClick","email","border","backgroundColor","margin","handleAccountSettingClick","location","reload","FiLogOut","FiArrowLeft","FiShare2","length","map","FaCog","participants","filter","p","participant","background","borderRadius","padding","fontWeight","cursor","FiPlus","room","_room$creator","handleClassroomClick","classId","name","onPinClass","setShowMenu","showMenu","handleLeaveClassroom","openDropdownId","setOpenDropdownId","renderClassroomCards","classes","_user$pinnedClasses","isPinned","pinnedClasses","includes","borderLeftColor","handleCardClick","stopPropagation","FaThumbtack","handleShareClick","classCode","html","customClass","confirmButton","navigator","clipboard","writeText","subname","_user$pinnedClasses2","createdClasses","_user$createdClasses","_user$pinnedClasses3","joinedClasses","_user$enrolledClasses","_user$createdClasses2","_user$pinnedClasses4","enrolledClasses","SeatingPreviewModal","rows","cols","onClose","initialSavedPositions","currentChairPositions","setCurrentChairPositions","initializeGridSeating","containerWidth","initialPositions","cellWidth","paddingX","seatIndex","r","Object","keys","timer","setTimeout","clientWidth","clearTimeout","handleResize","handleChairMove","prevPositions","_objectSpread","entries","_ref2","pos","Chair","handleSaveClick","_ref3","onClassCreated","setName","setSubname","setColor","setRows","setCols","showPreview","setShowPreview","savedSeatingPositions","setSavedSeatingPositions","onSubmit","preventDefault","token","error","alert","finalSeatingPositions","response","fetch","method","headers","body","JSON","stringify","imageUrl","seatingPositions","ok","errorData","json","Error","msg","data","log","class","message","type","value","onChange","required","parseInt","positions","onClassJoined","setClassCode","setError","axios","post","err","_err$response","_err$response$data","toUpperCase","mode","setMode","CreateClassModal","JoinClassModal","handleCreateClick","handleJoinClick","updateUserProfile","setClassrooms","isModalOpen","setIsModalOpen","fetchClassrooms","get","fetchUserProfile","updateAllData","classroomsData","userProfileData","Promise","all","handleCloseModal","Navbar","handleClassActionClick","Main","confirm","ClassActionModal"],"sourceRoot":""}